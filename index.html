<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  />
  <title>Interações com DOM</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main>
    <h2>Olá, Visitante!</h2>

    <p id="mensagem">Clique em um botão para interagir.</p>

    <!-- Adicionado campo de input para texto personalizado -->
    <section class="input-wrapper">
      <input 
        type="text" 
        id="inputTexto" 
        placeholder="Digite o novo texto..." 
        style="padding: 8px; margin: 10px 0; border: 1px solid #ccc; border-radius: 4px; width: 250px;"
      />
    </section>

    <section class="container-botoes">
      <button type="button" onclick="mudarTexto()">
        Mudar texto
      </button>
      <button type="button" onclick="abrirSeletorCor()">
        Mudar cor
      </button>
      <button type="button" onclick="adicionarMensagem()">
        Adicionar nova mensagem
      </button>
    </section>

    <!-- Corrigido link do botão para apontar para o repositório GitHub -->
    <section class="botao-acesso-wrapper">
      <a
        class="botao-acesso"
        href="https://github.com/ritaccagiano/interacao-dom"
        target="_blank"
        rel="noopener noreferrer"
      >
        Acesse o projeto
      </a>
    </section>

    <section id="novasMensagens"></section>
  </main>

  <script>
    function mudarTexto() {
      const inputTexto = document.getElementById('inputTexto');
      const mensagem = document.getElementById('mensagem');
      const novoTexto = inputTexto.value.trim() || 'Texto alterado com sucesso!';
      
      mensagem.innerText = novoTexto;
      inputTexto.value = ''; // Limpa o campo após usar
    }

    function abrirSeletorCor() {
      const input = document.createElement('input');
      input.type = 'color';
      input.style.position = 'absolute';
      input.style.left = '-9999px';
      document.body.appendChild(input);

      input.addEventListener('input', () => {
        const cor = input.value;
        document.getElementById('mensagem').style.color = cor;

        const hex = parseInt(cor.slice(1), 16);
        const r = (hex >> 16) & 0xff;
        const g = (hex >> 8) & 0xff;
        const b = hex & 0xff;
        const brilho = (r * 299 + g * 587 + b * 114) / 1000;
        document.body.style.backgroundColor =
          brilho > 200 ? '#222' : '#fff';
      });

      input.addEventListener('change', () => {
        document.body.removeChild(input);
      });

      input.click();
    }

    function adicionarMensagem() {
      const texto = prompt('Digite sua nova mensagem:');
      if (texto && texto.trim()) {
        const p = document.createElement('p');
        p.textContent = texto;
        document.getElementById('novasMensagens').appendChild(p);
      }
    }
  </script>
</body>
</html>
